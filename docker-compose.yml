version: "3"

services:
  reverse-proxy:
    container_name: Alexandria-ReverseProxy
    build: ./reverse_proxy
    volumes:
      - ./reverse_proxy/html:/var/www/html
    ports:
      - "5000:80"
    depends_on:
      - bot
      - liff
    tty: true
    environment:
      TZ: Asia/Tokyo

  bot:
    container_name: Alexandria-Bot
    build: ./bot
    tty: true
    environment:
      TZ: Asia/Tokyo
      FLASK_ENV: development

  liff:
    container_name: Alexandria-LIFF
    build: ./liff
    volumes:
      - ./liff/app:/usr/src/app
    tty: true
    environment:
      TZ: Asia/Tokyo
